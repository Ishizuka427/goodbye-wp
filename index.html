<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <title>お引越しのお知らせ</title>
  </head>
  <body>
    <div style='width: 480px; margin: 50px auto;'>
      <div style='border: 1px solid #ccc; padding: 30px; margin-top: 30px;'>
        <h2 style="color: pink">お引越しのお知らせ</h2>
        <p style="color: #808080">
          blog 引っ越しました🙌
          <a href="https://hugo.suwa3.me/" target="_blank">
          BLOG
          </a>
          <p>
          うさぎでもわかる 
          </p>
        </p>
      </div>
    </div>

    <style>
      body {
        display: flex;
      }

      p {
      text-align: left;
      }

      .game {
        left: 0px;
        margin: auto;
      }

      .box {
        width: 100px;
        height: 100px;
        background: skyblue;
        cursor: pointer;
        transition: 0.8s;
        margin: 0 8px 8px 0;
        text-align: center;
        line-height: 100px;
      }

      .win {
        background-image: url("./img/usagi.png");
        background-size: 100px;
        border-radius: 50%;
        transform: rotate(360deg);
      }

      .lose {
        background-image: url("./img/yagi.png");
        background-size: 100px;
        border-radius: 50%;
        transform: scale(0.9);
      }

    </style>

    </head>
    <body>
      <p>POINT: <span id="point"></span></p>
      <div class="game">


      </div>


    <script>
      'use strict';

      let point = parseInt(localStorage.getItem('point')) || 0;
      const pointTag = document.querySelector('#point');
      pointTag.textContent = point;



      const num = 5;
      const winner = Math.floor(Math.random() * num); // 0 - 4

      for (let i = 0; i < num; i++) {
        const div = document.createElement('div');
        div.classList.add('box');
        if (i === winner) {
          div.dataset.result = 'win';
        } else {
          div.dataset.result = 'lose';
        }
        div.addEventListener('click', function() {
          if (!div.classList.contains('already')) {
          if (div.dataset.result === 'win') {
            div.textContent = 'うさぎ';
            div.classList.add('win');
            point += 5;
          } else {
            div.textContent = 'やぎ';
            div.classList.add('lose');
            point -= 1;
          }
          localStorage.setItem('point', point);

          div.classList.add('already');
          pointTag.textContent = point;
        }

        });

        const game = document.querySelector('.game')

        game.appendChild(div);

      }

    </script>
<button onclick="localStorage.removeItem('point'); point=0;pointTag.textContent = point;">Reset</button>
  </body>
</html>
